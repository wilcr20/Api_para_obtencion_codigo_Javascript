<div class="container mainSeeContainer">
  <mat-card-title>
    Búsqueda de Funciones
  </mat-card-title>
  <hr style="border-top: 1px solid #030303;">
  <mat-card-content>
    <div>
      <div>
        <small style="color:red">A continuación escriba o seleccione unicamente
          en las opciones de búsqueda que desea para
          filtrar</small><br>
      </div>

      <br>
      <mat-accordion> <!--Inicio de Paneles -->
        <mat-expansion-panel (opened)="panelOpenState= true"
          (closed)="panelOpenState= false" style="border: solid 2px rgb(18, 145,
          18)">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Datos Generales
            </mat-panel-title>
            <mat-panel-description>
              {{panelOpenState ? 'Cerrar' : 'Abrir'}}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <!-- body -->
          <mat-form-field>
            <mat-label>Nombre de la función</mat-label>
            <input matInput [(ngModel)]="nombre" class="inputFormSmall">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Descripción de la función</mat-label>
            <input matInput [(ngModel)]="descrip" class="inputFormSmall">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Nombre del Usuario</mat-label>
            <input matInput [(ngModel)]="userNombre" class="inputFormSmall">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Codigo de funcion</mat-label>
            <textarea id="code" autocomplete="off" id="codeJS"
              [(ngModel)]="code" rows="5" cols="70" matInput
              [formControl]="codeFormControl" [errorStateMatcher]="matcher"></textarea>
          </mat-form-field>
          <!-- body -->
        </mat-expansion-panel>
        <br>
        <mat-expansion-panel (opened)="panelOpenState= true"
          (closed)="panelOpenState= false" style="border: solid 2px rgb(18, 145,
          18)">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Etiquetas
            </mat-panel-title>
            <mat-panel-description>
              {{panelOpenState ? 'Cerrar' : 'Abrir'}}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <!-- body -->
          <mat-checkbox name="etiqueta" class="checks" id="check,{{item.id}}"
            *ngFor="let
            item of
            listaEtiquetas;let i= index">{{item.nombre}}</mat-checkbox>
          <!-- body -->
        </mat-expansion-panel>
        <!-- ------------ -->

      </mat-accordion> <!--Fin de Paneles -->
    </div><br>
    <button (click)="searchFunction()" style="margin-left: 40%"
      mat-raised-button color="warn">Realizar Búsqueda</button>
  </mat-card-content>

  <div style="padding: 2%;"></div>


      
   

     
  <div >

      <mat-form-field>
          <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Buscar por nombre, descripción o cantidad de veces utilizada">
      </mat-form-field>
    
    <div class="mat-elevation-z8">
        
      <table mat-table [dataSource]="dataSource" style="width: 100%;">
        <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef> Nombre </th>
          <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
        </ng-container>

        <ng-container matColumnDef="descripcion">
          <th mat-header-cell *matHeaderCellDef> Descripción </th>
          <td mat-cell *matCellDef="let element"> {{element.descripcion}} </td>
        </ng-container>

        <ng-container matColumnDef="vecesutilizadas">
          <th mat-header-cell *matHeaderCellDef> Veces Utilizada </th>
          <td mat-cell *matCellDef="let element"> {{element.vecesutilizadas}}
          </td>
        </ng-container>

        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef> </th>
          <td mat-cell *matCellDef="let element">
            <button (click)="showURL(element.id)" style="border-radius: 100%;
              color:rgb(26, 78, 67); background-color: white"><mat-icon
                matListIcon>link</mat-icon> </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="code">
          <th mat-header-cell *matHeaderCellDef> </th>
          <td mat-cell *matCellDef="let element">
            <button (click)="showCode(element.codejs)" style="border-radius:
              100%;
              color:rgb(26, 78, 67); background-color: white"><mat-icon
                matListIcon>code</mat-icon> </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="dependencias">
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element">
              <button (click)="showDepend(element.id)" style="border-radius:
                100%;
                color:rgb(26, 78, 67); background-color: white">
                <img src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDQ3IDQ3IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NyA0NzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnIGlkPSJMYXllcl8xXzNfIj4KCQk8cGF0aCBkPSJNNDcsMTQuOTU1VjIuMTM2QzQ3LDAuOTU2LDQ2LjA0MywwLDQ0Ljg2MywwSDMyLjA0NmMtMS4xODEsMC0yLjEzNywwLjk1Ny0yLjEzNywyLjEzNnY1LjM0MSAgICBjLTEwLjQzNiwwLTE5LjIwNCw3LjE3My0yMS42OTgsMTYuODQxTDUuOTksMjMuOTI3Yy0wLjM5OS0wLjA2OS0wLjgwMywwLjA5MS0xLjA0NCwwLjQxNmMtMC4yNCwwLjMyNS0wLjI3OCwwLjc1OS0wLjA5NSwxLjEyICAgIGwyLjMxNCw0LjU2OUMzLjEwOSwzMC42OTMsMCwzNC4yMTMsMCwzOC40NTVDMCw0My4xNjcsMy44MzQsNDcsOC41NDYsNDdjNC4zNSwwLDcuOTQyLTMuMjcsOC40NzEtNy40NzdoNy41NTF2Mi4xMzYgICAgYzAsMC40MDUsMC4yMjksMC43NzQsMC41OTEsMC45NTZjMC4zNjIsMC4xOCwwLjc5NSwwLjE0MiwxLjEyLTAuMTAybDMuNzM0LTIuODAyYzAuNjEsNC4xMTYsNC4xNTgsNy4yODgsOC40NCw3LjI4OCAgICBDNDMuMTY2LDQ3LDQ3LDQzLjE2Nyw0NywzOC40NTVjMC00LjM1LTMuMjctNy45NDMtNy40NzktOC40NzF2LTcuNTUyaDIuMTM4YzAuNDAzLDAsMC43NzQtMC4yMjksMC45NTQtMC41OSAgICBjMC4xODItMC4zNjEsMC4xNDQtMC43OTUtMC4xLTEuMTE5bC0yLjcyNS0zLjYzMWg1LjA3MkM0Ni4wNDMsMTcuMDkxLDQ3LDE2LjEzNCw0NywxNC45NTV6IE04LjU0Niw0Mi43MjcgICAgYy0yLjM1NiwwLTQuMjczLTEuOTE2LTQuMjczLTQuMjcxczEuOTE3LTQuMjczLDQuMjczLTQuMjczczQuMjcyLDEuOTE4LDQuMjcyLDQuMjczUzEwLjkwMiw0Mi43MjcsOC41NDYsNDIuNzI3eiBNNDIuNzI5LDM4LjQ1NSAgICBjMCwyLjM1NS0xLjkxOCw0LjI3MS00LjI3Myw0LjI3MXMtNC4yNzEtMS45MTYtNC4yNzEtNC4yNzFzMS45MTYtNC4yNzMsNC4yNzEtNC4yNzNTNDIuNzI5LDM2LjEsNDIuNzI5LDM4LjQ1NXogTTM0LjI5NSwyMS44NDEgICAgYzAuMTgyLDAuMzYyLDAuNTUxLDAuNTksMC45NTUsMC41OWgyLjEzN3Y3LjU1MWMtMy43OTQsMC40NzgtNi44MTQsMy40NDctNy4zNzMsNy4yMTVsLTMuNzM2LTIuODAzICAgIGMtMC4zMjMtMC4yNDItMC43NTYtMC4yOC0xLjExOC0wLjEwMWMtMC4zNjEsMC4xODMtMC41OTEsMC41NTEtMC41OTEsMC45NTZ2Mi4xMzZoLTcuNTUxYy0wLjQ4NC0zLjg2Mi0zLjU1My02LjkyNy03LjQxOC03LjQwNSAgICBjMC4wMDMtMC4wMjQsMC4wMTUtMC4wNDUsMC4wMTUtMC4wNzFjMC0wLjAwNSwwLTAuMDA3LDAtMC4wMTFsMy4yMzMtMy4wMjdjMC4yOTUtMC4yNzYsMC40MDgtMC42OTYsMC4yOTQtMS4wODQgICAgYy0wLjExNy0wLjM4OS0wLjQ0LTAuNjc4LTAuODM5LTAuNzQ4bC0xLjk4My0wLjM1QzEyLjYzMiwxNi4wMjQsMjAuNTI2LDkuNjEzLDI5LjkxLDkuNjEzdjUuMzQxYzAsMS4xOCwwLjk1NiwyLjEzNiwyLjEzNywyLjEzNiAgICBoNS4wNzNsLTIuNzI0LDMuNjMyQzM0LjE1MiwyMS4wNDYsMzQuMTEzLDIxLjQ3OSwzNC4yOTUsMjEuODQxeiBNNDIuNzI5LDEyLjgxOGgtOC41NDdWNC4yNzNoOC41NDdWMTIuODE4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=" />
              </button>
            </td>
          </ng-container>
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>

  </div>

</div>